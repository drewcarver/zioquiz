<html>
  <head>
    <script>
      webSocket = new WebSocket(
        `ws://localhost:8090/subscriptions?authToken=${"mytokenhere"}`
      )

      webSocket.onopen = (event) => console.log(event)
      webSocket.onmessage = (event) => {
        let eventData = null
        try {
          eventData = JSON.parse(event.data)
        } catch {}

        if (eventData?.QuestionAsked) {
          document.getElementById("question-title").innerHTML =
            eventData.QuestionAsked.question
        } else {
          console.log(event)
        }
      }

      const start = () => {
        console.log("test")
        fetch("http://localhost:8090/test")
      }
    </script>
  </head>
  <body>
    <h1 id="question-title"></h1>
    <button id="startButton" onclick="start">Start</button>
    <script>
      document.getElementById("startButton").addEventListener("click", start)
    </script>
  </body>
</html>
